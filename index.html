<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Pre√ßos - Starmobile</title>
    <meta name="description" content="Sistema de consulta de pre√ßos e or√ßamentos Starmobile. Pesquisa por c√≥digo, nome e palavras-chave.">
    <style>
        :root {
            --starmobile-dark: #1a1a2e;
            --starmobile-darker: #16213e;
            --starmobile-accent: #e94560;
            --starmobile-gold: #f5a623;
            --starmobile-light: #eaeaea;
            --starmobile-gray: #6c757d;
            --starmobile-success: #28a745;
            --starmobile-warning: #ffc107;
            --starmobile-info: #17a2b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--starmobile-dark) 0%, var(--starmobile-darker) 100%);
            min-height: 100vh;
            color: var(--starmobile-light);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--starmobile-gold), var(--starmobile-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header p {
            color: var(--starmobile-gray);
            font-size: 1.1rem;
        }

        /* Admin Panel */
        .admin-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--starmobile-accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .admin-toggle:hover {
            background: #d63850;
            transform: scale(1.05);
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 70px;
            right: 20px;
            background: rgba(26, 26, 46, 0.98);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid var(--starmobile-accent);
            z-index: 999;
            min-width: 300px;
            backdrop-filter: blur(10px);
        }

        .admin-panel.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .admin-panel h3 {
            color: var(--starmobile-gold);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--starmobile-accent);
        }

        .admin-group {
            margin-bottom: 15px;
        }

        .admin-group label {
            display: block;
            margin-bottom: 5px;
            color: var(--starmobile-light);
            font-size: 0.9rem;
        }

        .admin-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--starmobile-gray);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--starmobile-light);
            font-size: 1rem;
        }

        .admin-group input:focus {
            outline: none;
            border-color: var(--starmobile-gold);
        }

        /* Search Section */
        .search-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 15px 20px;
            border: 2px solid transparent;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--starmobile-light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--starmobile-gold);
            background: rgba(255, 255, 255, 0.15);
        }

        .search-input::placeholder {
            color: var(--starmobile-gray);
        }

        .search-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--starmobile-gold), var(--starmobile-accent));
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }

        /* Category Filters */
        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 20px;
            border: 1px solid var(--starmobile-gray);
            border-radius: 20px;
            background: transparent;
            color: var(--starmobile-light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn:hover,
        .category-btn.active {
            background: var(--starmobile-accent);
            border-color: var(--starmobile-accent);
        }

        /* Or√ßamento Toggle */
        .orcamento-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .orcamento-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--starmobile-gray);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: var(--starmobile-success);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .toggle-switch.active::after {
            left: 33px;
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .product-card:hover {
            transform: translateY(-5px);
            border-color: var(--starmobile-gold);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .product-image {
            height: 180px;
            background: linear-gradient(135deg, #2d2d44, #1a1a2e);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--starmobile-gray);
            font-size: 3rem;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-code {
            font-size: 0.85rem;
            color: var(--starmobile-gold);
            margin-bottom: 5px;
        }

        .product-name {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--starmobile-light);
        }

        .product-category {
            display: inline-block;
            padding: 3px 10px;
            background: rgba(233, 69, 96, 0.2);
            color: var(--starmobile-accent);
            border-radius: 10px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--starmobile-success);
        }

        .product-price-final {
            font-size: 1rem;
            color: var(--starmobile-gold);
            margin-top: 5px;
        }

        .add-to-orcamento {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            background: linear-gradient(135deg, var(--starmobile-gold), var(--starmobile-accent));
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .add-to-orcamento:hover {
            opacity: 0.9;
            transform: scale(1.02);
        }

        .add-to-orcamento:disabled {
            background: var(--starmobile-gray);
            cursor: not-allowed;
            transform: none;
        }

        /* Or√ßamento Summary */
        .orcamento-summary {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--starmobile-gold);
        }

        .orcamento-summary h3 {
            color: var(--starmobile-gold);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .orcamento-items {
            margin-bottom: 20px;
        }

        .orcamento-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .orcamento-item-info {
            flex: 1;
        }

        .orcamento-item-name {
            font-weight: bold;
            color: var(--starmobile-light);
        }

        .orcamento-item-code {
            font-size: 0.85rem;
            color: var(--starmobile-gray);
        }

        .orcamento-item-price {
            font-weight: bold;
            color: var(--starmobile-success);
            margin-right: 15px;
        }

        .orcamento-item-remove {
            background: var(--starmobile-accent);
            color: white;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .orcamento-item-remove:hover {
            background: #d63850;
            transform: scale(1.1);
        }

        .orcamento-totals {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 10px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .total-row.final {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--starmobile-gold);
            border-top: 2px solid var(--starmobile-gold);
            border-bottom: none;
            margin-top: 10px;
            padding-top: 15px;
        }

        .clear-orcamento {
            width: 100%;
            padding: 12px;
            margin-top: 20px;
            background: transparent;
            color: var(--starmobile-accent);
            border: 1px solid var(--starmobile-accent);
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .clear-orcamento:hover {
            background: var(--starmobile-accent);
            color: white;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--starmobile-gray);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .search-container {
                flex-direction: column;
            }

            .admin-panel {
                right: 10px;
                left: 10px;
                min-width: auto;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--starmobile-success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <button class="admin-toggle" onclick="toggleAdmin()">‚öôÔ∏è Gerente</button>
    
    <div class="admin-panel" id="adminPanel">
        <h3>üîß Configura√ß√µes do Gerente</h3>
        <div class="admin-group">
            <label>IPI (%)</label>
            <input type="number" id="ipiInput" value="10" onchange="updateConfig()">
        </div>
        <div class="admin-group">
            <label>Frete (%)</label>
            <input type="number" id="freteInput" value="8" onchange="updateConfig()">
        </div>
        <div class="admin-group">
            <label>Markup (%)</label>
            <input type="number" id="markupInput" value="35" onchange="updateConfig()">
        </div>
        <div class="admin-group">
            <label>Desconto (%)</label>
            <input type="number" id="descontoInput" value="0" onchange="updateConfig()">
        </div>
    </div>

    <div class="container">
        <header class="header">
            <h1>‚≠ê STARMOBILE</h1>
            <p>Sistema de Consulta de Pre√ßos e Or√ßamentos</p>
        </header>

        <div class="search-section">
            <div class="orcamento-header">
                <div class="orcamento-toggle">
                    <span>Modo Or√ßamento</span>
                    <div class="toggle-switch" id="orcamentoToggle" onclick="toggleOrcamento()"></div>
                </div>
                <div id="orcamentoCount" style="color: var(--starmobile-gold); font-weight: bold;"></div>
            </div>

            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="üîç Pesquise por c√≥digo ou nome do produto..." onkeyup="handleSearch(event)">
                <button class="search-btn" onclick="searchProducts()">Buscar</button>
            </div>

            <div class="category-filters">
                <button class="category-btn active" onclick="filterCategory('todos', this)">Todos</button>
                <button class="category-btn" onclick="filterCategory('mesas', this)">Mesas</button>
                <button class="category-btn" onclick="filterCategory('cadeiras', this)">Cadeiras</button>
                <button class="category-btn" onclick="filterCategory('poltronas', this)">Poltronas</button>
            </div>
        </div>

        <div class="products-grid" id="productsGrid">
            <!-- Products will be loaded here -->
        </div>

        <div class="orcamento-summary" id="orcamentoSummary" style="display: none;">
            <h3>üìã Resumo do Or√ßamento</h3>
            <div class="orcamento-items" id="orcamentoItems"></div>
            <div class="orcamento-totals" id="orcamentoTotals"></div>
            <button class="clear-orcamento" onclick="clearOrcamento()">üóëÔ∏è Limpar Or√ßamento</button>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // Sample Products Data
        const products = [
            { codigo: "SM001", nome: "Mesa de Jantar Elegance", categoria: "mesas", preco: 1250.00, imagem: "" },
            { codigo: "SM002", nome: "Mesa de Centro Moderna", categoria: "mesas", preco: 580.00, imagem: "" },
            { codigo: "SM003", nome: "Mesa Lateral Minimalista", categoria: "mesas", preco: 320.00, imagem: "" },
            { codigo: "SM004", nome: "Cadeira Executiva Premium", categoria: "cadeiras", preco: 890.00, imagem: "" },
            { codigo: "SM005", nome: "Cadeira de Escrit√≥rio Ergon√¥mica", categoria: "cadeiras", preco: 650.00, imagem: "" },
            { codigo: "SM006", nome: "Cadeira Girat√≥ria Comfort", categoria: "cadeiras", preco: 420.00, imagem: "" },
            { codigo: "SM007", nome: "Poltrona Reclin√°vel Luxo", categoria: "poltronas", preco: 1850.00, imagem: "" },
            { codigo: "SM008", nome: "Poltrona de Leitura Classic", categoria: "poltronas", preco: 980.00, imagem: "" },
            { codigo: "SM009", nome: "Poltrona Decorativa Vintage", categoria: "poltronas", preco: 720.00, imagem: "" },
            { codigo: "SM010", nome: "Mesa de Reuni√£o Corporate", categoria: "mesas", preco: 2100.00, imagem: "" },
            { codigo: "SM011", nome: "Cadeira Gamer Pro", categoria: "cadeiras", preco: 1200.00, imagem: "" },
            { codigo: "SM012", nome: "Poltrona Massageadora", categoria: "poltronas", preco: 3500.00, imagem: "" }
        ];

        // State
        let config = {
            ipi: 10,
            frete: 8,
            markup: 35,
            desconto: 0
        };

        let orcamentoMode = false;
        let orcamentoItems = [];
        let currentCategory = 'todos';
        let currentSearch = '';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
        });

        // Admin Functions
        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('active');
        }

        function updateConfig() {
            config.ipi = parseFloat(document.getElementById('ipiInput').value) || 0;
            config.frete = parseFloat(document.getElementById('freteInput').value) || 0;
            config.markup = parseFloat(document.getElementById('markupInput').value) || 0;
            config.desconto = parseFloat(document.getElementById('descontoInput').value) || 0;
            renderProducts();
            updateOrcamentoSummary();
        }

        // Or√ßamento Functions
        function toggleOrcamento() {
            orcamentoMode = !orcamentoMode;
            const toggle = document.getElementById('orcamentoToggle');
            const summary = document.getElementById('orcamentoSummary');
            
            toggle.classList.toggle('active', orcamentoMode);
            summary.style.display = orcamentoMode ? 'block' : 'none';
            
            renderProducts();
        }

        function addToOrcamento(codigo) {
            const product = products.find(p => p.codigo === codigo);
            if (product && !orcamentoItems.find(item => item.codigo === codigo)) {
                orcamentoItems.push({...product});
                showNotification(`${product.nome} adicionado ao or√ßamento!`);
                updateOrcamentoSummary();
                renderProducts();
            }
        }

        function removeFromOrcamento(codigo) {
            orcamentoItems = orcamentoItems.filter(item => item.codigo !== codigo);
            updateOrcamentoSummary();
            renderProducts();
            showNotification('Item removido do or√ßamento');
        }

        function clearOrcamento() {
            orcamentoItems = [];
            updateOrcamentoSummary();
            renderProducts();
            showNotification('Or√ßamento limpo!');
        }

        function calculateFinalPrice(preco) {
            let finalPrice = preco;
            finalPrice += preco * (config.ipi / 100);
            finalPrice += preco * (config.frete / 100);
            finalPrice += finalPrice * (config.markup / 100);
            finalPrice -= finalPrice * (config.desconto / 100);
            return finalPrice;
        }

        function updateOrcamentoSummary() {
            const itemsContainer = document.getElementById('orcamentoItems');
            const totalsContainer = document.getElementById('orcamentoTotals');
            const countDisplay = document.getElementById('orcamentoCount');

            if (orcamentoItems.length === 0) {
                itemsContainer.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üì¶</div><p>Nenhum item no or√ßamento</p></div>';
                totalsContainer.innerHTML = '';
                countDisplay.textContent = '';
                return;
            }

            countDisplay.textContent = `${orcamentoItems.length} item(s) no or√ßamento`;

            let subtotal = 0;
            itemsContainer.innerHTML = orcamentoItems.map(item => {
                const finalPrice = calculateFinalPrice(item.preco);
                subtotal += finalPrice;
                return `
                    <div class="orcamento-item">
                        <div class="orcamento-item-info">
                            <div class="orcamento-item-name">${item.nome}</div>
                            <div class="orcamento-item-code">${item.codigo}</div>
                        </div>
                        <div class="orcamento-item-price">R$ ${finalPrice.toFixed(2)}</div>
                        <button class="orcamento-item-remove" onclick="removeFromOrcamento('${item.codigo}')" title="Remover item">‚úï</button>
                    </div>
                `;
            }).join('');

            const totalIPI = orcamentoItems.reduce((acc, item) => acc + item.preco * (config.ipi / 100), 0);
            const totalFrete = orcamentoItems.reduce((acc, item) => acc + item.preco * (config.frete / 100), 0);
            const baseTotal = orcamentoItems.reduce((acc, item) => acc + item.preco, 0);
            const totalMarkup = (baseTotal + totalIPI + totalFrete) * (config.markup / 100);
            const subtotalBeforeDiscount = baseTotal + totalIPI + totalFrete + totalMarkup;
            const totalDesconto = subtotalBeforeDiscount * (config.desconto / 100);

            totalsContainer.innerHTML = `
                <div class="total-row">
                    <span>Subtotal Base:</span>
                    <span>R$ ${baseTotal.toFixed(2)}</span>
                </div>
                <div class="total-row">
                    <span>IPI (${config.ipi}%):</span>
                    <span>R$ ${totalIPI.toFixed(2)}</span>
                </div>
                <div class="total-row">
                    <span>Frete (${config.frete}%):</span>
                    <span>R$ ${totalFrete.toFixed(2)}</span>
                </div>
                <div class="total-row">
                    <span>Markup (${config.markup}%):</span>
                    <span>R$ ${totalMarkup.toFixed(2)}</span>
                </div>
                ${config.desconto > 0 ? `
                <div class="total-row" style="color: var(--starmobile-success);">
                    <span>Desconto (${config.desconto}%):</span>
                    <span>- R$ ${totalDesconto.toFixed(2)}</span>
                </div>
                ` : ''}
                <div class="total-row final">
                    <span>TOTAL FINAL:</span>
                    <span>R$ ${subtotal.toFixed(2)}</span>
                </div>
            `;
        }

        // Search Functions
        function handleSearch(event) {
            if (event.key === 'Enter') {
                searchProducts();
            }
        }

        function searchProducts() {
            currentSearch = document.getElementById('searchInput').value.toLowerCase();
            renderProducts();
        }

        function filterCategory(category, btn) {
            currentCategory = category;
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderProducts();
        }

        // Render Products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            
            let filteredProducts = products.filter(product => {
                const matchesSearch = currentSearch === '' || 
                    product.nome.toLowerCase().includes(currentSearch) ||
                    product.codigo.toLowerCase().includes(currentSearch);
                const matchesCategory = currentCategory === 'todos' || product.categoria === currentCategory;
                return matchesSearch && matchesCategory;
            });

            if (filteredProducts.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-state-icon">üîç</div>
                        <p>Nenhum produto encontrado</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = filteredProducts.map(product => {
                const finalPrice = calculateFinalPrice(product.preco);
                const isInOrcamento = orcamentoItems.find(item => item.codigo === product.codigo);
                const categoryLabels = {
                    mesas: 'Mesa',
                    cadeiras: 'Cadeira',
                    poltronas: 'Poltrona'
                };

                return `
                    <div class="product-card">
                        <div class="product-image">
                            ${product.imagem ? `<img src="${product.imagem}" alt="${product.nome}">` : 'üì¶'}
                        </div>
                        <div class="product-info">
                            <div class="product-code">${product.codigo}</div>
                            <div class="product-name">${product.nome}</div>
                            <div class="product-category">${categoryLabels[product.categoria] || product.categoria}</div>
                            <div class="product-price">R$ ${product.preco.toFixed(2)}</div>
                            <div class="product-price-final">Final: R$ ${finalPrice.toFixed(2)}</div>
                            ${orcamentoMode ? `
                                <button class="add-to-orcamento" onclick="addToOrcamento('${product.codigo}')" ${isInOrcamento ? 'disabled' : ''}>
                                    ${isInOrcamento ? '‚úì No Or√ßamento' : '+ Adicionar ao Or√ßamento'}
                                </button>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
